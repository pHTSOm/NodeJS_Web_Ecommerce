{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { ProductService } from \"../services/api\";\nconst useGetData = collectionName => {\n  _s();\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      try {\n        console.log(\"Fetching data from:\", collectionName);\n        const response = await fetch(`http://localhost:5000/api/${collectionName}`);\n        console.log(\"Response status:\", response.status);\n        const jsonData = await response.json();\n        console.log(\"Fetched data:\", jsonData);\n        if (jsonData.success) {\n          setData(jsonData.products || []);\n        } else {\n          console.error(\"API error:\", jsonData.message);\n          setData([]);\n        }\n      } catch (error) {\n        console.error(\"Fetch error:\", error);\n        setData([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [collectionName]);\n  return {\n    data,\n    loading\n  };\n};\n_s(useGetData, \"YP7e7Smzxlgf2d3MqLcgRZjo83U=\");\nexport default useGetData;","map":{"version":3,"names":["useState","useEffect","ProductService","useGetData","collectionName","_s","data","setData","loading","setLoading","fetchData","console","log","response","fetch","status","jsonData","json","success","products","error","message"],"sources":["/Users/truongphat/Desktop/WebProgramming/midterm_web/frontend/src/custom-hooks/useGetData.js"],"sourcesContent":["\nimport { useState, useEffect } from \"react\";\nimport { ProductService } from \"../services/api\";\n\n  const useGetData = (collectionName) => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      try {\n        console.log(\"Fetching data from:\", collectionName);\n        const response = await fetch(`http://localhost:5000/api/${collectionName}`);\n        console.log(\"Response status:\", response.status);\n        const jsonData = await response.json();\n        console.log(\"Fetched data:\", jsonData);\n        \n        if (jsonData.success) {\n          setData(jsonData.products || []);\n        } else {\n          console.error(\"API error:\", jsonData.message);\n          setData([]);\n        }\n      } catch (error) {\n        console.error(\"Fetch error:\", error);\n        setData([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [collectionName]);\n\n  return { data, loading };\n};\n\nexport default useGetData;"],"mappings":";AACA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,cAAc,QAAQ,iBAAiB;AAE9C,MAAMC,UAAU,GAAIC,cAAc,IAAK;EAAAC,EAAA;EACvC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACd,MAAMS,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5BD,UAAU,CAAC,IAAI,CAAC;MAChB,IAAI;QACFE,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAER,cAAc,CAAC;QAClD,MAAMS,QAAQ,GAAG,MAAMC,KAAK,CAAC,6BAA6BV,cAAc,EAAE,CAAC;QAC3EO,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEC,QAAQ,CAACE,MAAM,CAAC;QAChD,MAAMC,QAAQ,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;QACtCN,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEI,QAAQ,CAAC;QAEtC,IAAIA,QAAQ,CAACE,OAAO,EAAE;UACpBX,OAAO,CAACS,QAAQ,CAACG,QAAQ,IAAI,EAAE,CAAC;QAClC,CAAC,MAAM;UACLR,OAAO,CAACS,KAAK,CAAC,YAAY,EAAEJ,QAAQ,CAACK,OAAO,CAAC;UAC7Cd,OAAO,CAAC,EAAE,CAAC;QACb;MACF,CAAC,CAAC,OAAOa,KAAK,EAAE;QACdT,OAAO,CAACS,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;QACpCb,OAAO,CAAC,EAAE,CAAC;MACb,CAAC,SAAS;QACRE,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDC,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACN,cAAc,CAAC,CAAC;EAEpB,OAAO;IAAEE,IAAI;IAAEE;EAAQ,CAAC;AAC1B,CAAC;AAACH,EAAA,CAhCMF,UAAU;AAkClB,eAAeA,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}